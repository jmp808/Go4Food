<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Go4Food Restaurant Catalog</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <style>
    .contentHeader {
      display: flex;
      margin: 20px;
    }
    .item-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-left: 5%;
    }
    /* .card_item {
      width: calc(33% - 20px);
      margin-bottom: 20px;
      padding: 20px;
      background-color: #fff;
      border: 1px solid #e0e0e0;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      border-radius: 5px;
      text-align: center;
    }

    .card_item img {
      width: 100%;
      max-height: 150px;
      object-fit: cover;
      border-radius: 5px;
    }

    .card_item h3 {
      margin: 10px 0;
      font-size: 18px;
      color: #ef3d3d;
      text-align: left;
    }

    .card_item p {
      margin: 5px 0;
      font-size: 14px;
      color: #777;
      text-align: left;
    }
 */


.recipe,.img-box {
  display: flex;
   flex-direction: column;
}


.img-box img {
    width: 300px;
     height: auto;
  
     object-fit: cover;
     object-position: 50% 50%;
}
 

.recipe-content {
  /* padding: 16px 32px; */
   width: 300px;
}

.recipe-tag {
  display: inline-block;
  margin: 8px;
  font-size: 0.875em;
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.02em;
  color: #ef3d3d;
}
.recipe-title {
   font-size: 16px;
   margin: 0;
   text-align: left;
}
.recipe-title a {
  text-decoration: none;
  color: inherit;
}

.recipe-rating {
  font-size: 1.2em;
  color: #ef3d3d;
}
.recipe-desc{
   font-size: 14px;
}

.recipe-save {
   margin: 10px;
  display: flex;
  align-items: center;
  padding: 6px 14px 6px 12px;
  border-radius: 4px;
  border: 2px solid currentColor;
  color: #ef3d3d;
  background: none;
  cursor: pointer;
}
.recipe-save svg {
  margin-right: 6px;
}

.big {
  line-height: 1.55;
  padding: 24px;
  background-color: #fff;
  border: 1px solid #e0e0e0;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
}


  </style>
  <body>
    <!-- <div class="container" style="max-width: 100%"> -->
      <%- include('navbar') %>
    <!-- </div> -->
    <div class="restaurant-catalog" style="margin-top: 5rem;">
      <h2 style="margin-left: 5%; color: #ef3d3d">Top Rated item</h2>
      <br />
      <h1 style="color: black;" ><% per_menus.lengths  %></h1>
      <div class="item-list">

        <% if(per_menus.length==0){ %>
        <h1>No items found</h1>
        <% }else { %>
        <% for(var i=0;i<per_menus.length;i++){ %>

        <div class="big">
          <article class="recipe">
           <div class="img-box">
             <img src="/images/<%=per_menus[i].images[0] %>" width="1500" height="1368" alt="">
           </div>
           <div class="recipe-content">
             <p class="recipe-tags">
               
               <span class="recipe-tag">Gluten Free</span>
               <span class="recipe-tag">Main dish</span>
             </p>
       
             <h1 class="recipe-title"><a href="#"><%=per_menus[i].title %></a></h1>
             <h4 class="recipe-title"><a href="#"><%=allMenus[i].price %></a></h4>
       
             <p class="recipe-metadata">
               <span class="recipe-rating">★★★★<span>☆</span></span>
               <span class="recipe-votes">(12 votes)</span>
             </p>
       
             <p class="recipe-desc">   <%=per_menus[i].description %></p>
         <div  style="display: flex;">
          <form action="/cart" method="post">
            <input type="hidden" name="menu_id" value="<%=per_menus[i]._id %>">
              <button class="recipe-save" type="button" >
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#000000"><path d="M 6.0097656 2 C 4.9143111 2 4.0097656 2.9025988 4.0097656 3.9980469 L 4 22 L 12 19 L 20 22 L 20 20.556641 L 20 4 C 20 2.9069372 19.093063 2 18 2 L 6.0097656 2 z M 6.0097656 4 L 18 4 L 18 19.113281 L 12 16.863281 L 6.0019531 19.113281 L 6.0097656 4 z" fill="currentColor"/></svg>
             Add to Cart
           </button>
          </form>
          <form action="/buynowsingle" method="post">

            <input type="hidden" name="menu_id" value="<%=per_menus[i]._id %>">
            <button class="recipe-save" type="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#000000"><path d="M 6.0097656 2 C 4.9143111 2 4.0097656 2.9025988 4.0097656 3.9980469 L 4 22 L 12 19 L 20 22 L 20 20.556641 L 20 4 C 20 2.9069372 19.093063 2 18 2 L 6.0097656 2 z M 6.0097656 4 L 18 4 L 18 19.113281 L 12 16.863281 L 6.0019531 19.113281 L 6.0097656 4 z" fill="currentColor"/></svg>
              Buy Now
            </button>
          </form>
  
        
     
          
     
         </div>
           </div>
         </article>
       </div>
        <% } %>
        
    
        <!-- Add more top-rated restaurant items here -->
      </div>
      <div class="button-container">
        <button class="prev-button">Previous</button>
        <button class="next-button">Next</button>
      </div>
      <% } %>
      <h2 style="margin-left: 5%; color: #ef3d3d">Item</h2>
      <br />
      <div class="item-list">
      <% if(allMenus.length==0){ %>
        <h1>No items found</h1>
        <% }else { %>
        <% for(var i=0;i<allMenus.length;i++){ %>

        
        <div class="big">
          <article class="recipe">
           <div class="img-box">
             <img src="/images/<%=allMenus[i].images[0] %>" width="1500" height="1368" alt="">
           </div>
           <div class="recipe-content">
             <p class="recipe-tags">
               
               <span class="recipe-tag">Gluten Free</span>
               <span class="recipe-tag">Main dish</span>
             </p>
       
             <h1 class="recipe-title"><a href="#"><%=allMenus[i].title %></a></h1>
             <h4 class="recipe-title"><a href="#"><%=allMenus[i].price %></a></h4>
       
             <p class="recipe-metadata">
               <span class="recipe-rating">★★★★<span>☆</span></span>
               <span class="recipe-votes">(12 votes)</span>
             </p>
       
             <p class="recipe-desc">  <%=allMenus[i].description %></p>
         <div  style="display: flex;">
          <form action="/cart" method="post">
            <input type="hidden" name="menu_id" value="<%=allMenus[i]._id %>">
              <button class="recipe-save" type="button" >
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#000000"><path d="M 6.0097656 2 C 4.9143111 2 4.0097656 2.9025988 4.0097656 3.9980469 L 4 22 L 12 19 L 20 22 L 20 20.556641 L 20 4 C 20 2.9069372 19.093063 2 18 2 L 6.0097656 2 z M 6.0097656 4 L 18 4 L 18 19.113281 L 12 16.863281 L 6.0019531 19.113281 L 6.0097656 4 z" fill="currentColor"/></svg>
             Add to Cart
           </button>
          </form>
          <form action="/buynowsingle" method="post">
             
            <input type="hidden" name="menu_id" value="<%=allMenus[i]._id %>">
            <button class="recipe-save" type="button">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#000000"><path d="M 6.0097656 2 C 4.9143111 2 4.0097656 2.9025988 4.0097656 3.9980469 L 4 22 L 12 19 L 20 22 L 20 20.556641 L 20 4 C 20 2.9069372 19.093063 2 18 2 L 6.0097656 2 z M 6.0097656 4 L 18 4 L 18 19.113281 L 12 16.863281 L 6.0019531 19.113281 L 6.0097656 4 z" fill="currentColor"/></svg>
              Buy Now
            </button>
          </form>
  
        
     
          
     
         </div>
           </div>
         </article>
       </div>
        <% } %>
        <% } %>
       
        <!-- Add more top-rated restaurant items here -->
      </div>
    
    </div>
    <script>
      function truncateString(str, maxLength) {
          if (str.length <= maxLength) {
            return str;
          } else {
            var trimmedString = str.substr(0, maxLength);
            // Find the last space within the trimmed string
            var lastSpaceIndex = trimmedString.lastIndexOf(' ');
            // Trim the string further to the last space
            trimmedString = trimmedString.substr(0, lastSpaceIndex);
            return trimmedString + '...';
          }
      }

    </script>
  </body>
</html>
